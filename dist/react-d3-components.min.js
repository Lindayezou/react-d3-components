!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("d3")):"function"==typeof define&&define.amd?define(["React","d3"],t):"object"==typeof exports?exports.ReactD3=t(require("React"),require("d3")):e.ReactD3=t(e.React,e.d3)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e};Object.defineProperty(t,"__esModule",{value:!0}),t.BarChart=r(n(18)),t.PieChart=r(n(21)),t.ScatterPlot=r(n(22)),t.LineChart=r(n(20)),t.AreaChart=r(n(16)),t.Brush=r(n(19)),t.Transition=r(n(24)),t.Chart=r(n(3)),t.Axis=r(n(5))},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&(e.props.hasOwnProperty(r)||(n[r]=t[r]));return n}var i=function(e){return e&&e.__esModule?e.default:e},s=i(n(1)),a=i(n(6)),o=i(n(4)),l=i(n(8)),u=i(n(11)),p=i(n(9));i(n(7));e.exports=s.createClass({displayName:"Chart",mixins:[o,u,l,p,a],propTypes:{height:s.PropTypes.number.isRequired,width:s.PropTypes.number.isRequired,margin:s.PropTypes.shape({top:s.PropTypes.number,bottom:s.PropTypes.number,left:s.PropTypes.number,right:s.PropTypes.number}).isRequired},render:function(){var e=this.props,t=e.height,n=e.width,i=e.margin,a=e.colorScale,o=(e.rScale,e.shape,e.label),l=e.values,u=e.x,p=e.y,c=e.y0,h=(e.xAxis,e.yAxis,e.tooltipHtml),d=e.transition,f=this._data,y=this._innerWidth,m=this._innerHeight,x=this._xScale,v=this._yScale,g=this._xIntercept,_=this._yIntercept;console.log("redraw graph");var P=s.Children.map(this.props.children,function(e){var P={data:f,height:t,width:n,margin:i,xScale:x,yScale:v,xIntercept:g,yIntercept:_,values:l,label:o,x:u,y:p,y0:c,colorScale:a,tooltipHtml:h,transition:d};if("Axis"===e.type.displayName){var S="x"===e.props.scale?x:"y"===e.props.scale?v:e.props.scale;return s.cloneElement(e,{height:m,width:y,scale:S})}return s.cloneElement(e,r(e,P))},this);return s.createElement("svg",{ref:"svg",width:n,height:t},s.createElement("g",{transform:"translate("+i.left+", "+i.top+")"},P))}})},function(e,t){"use strict";e.exports={componentWillMount:function(){this._calculateInner(this.props)},componentWillReceiveProps:function(e){this._calculateInner(e)},_calculateInner:function(e){var t=e.height,n=e.width,r=e.margin;this._innerHeight=t-r.top-r.bottom,this._innerWidth=n-r.left-r.right}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=(r(n(2)),r(n(23)));e.exports=i.createClass({displayName:"Axis",propTypes:{tickArguments:i.PropTypes.array,tickValues:i.PropTypes.array,tickFormat:i.PropTypes.func,innerTickSize:i.PropTypes.number,tickPadding:i.PropTypes.number,outerTickSize:i.PropTypes.number,scale:i.PropTypes.func.isRequired,className:i.PropTypes.string,zero:i.PropTypes.number,orientation:i.PropTypes.oneOf(["top","bottom","left","right"]).isRequired,label:i.PropTypes.string},getDefaultProps:function(){return{tickArguments:[10],tickValues:null,tickFormat:null,innerTickSize:6,tickPadding:3,outerTickSize:6,className:"axis",zero:0,label:""}},_getTranslateString:function(){var e=this.props,t=e.orientation,n=e.height,r=e.width,i=e.zero;return"top"===t?"translate(0, "+i+")":"bottom"===t?"translate(0, "+(0==i?n:i)+")":"left"===t?"translate("+i+", 0)":"right"===t?"translate("+(0==i?r:i)+", 0)":""},render:function(){var e=this.props,t=e.height,n=e.width,r=e.tickArguments,a=e.tickValues,o=e.tickFormat,l=e.innerTickSize,u=e.tickPadding,p=e.outerTickSize,c=e.scale,h=e.orientation,d=e.className,f=e.zero,y=e.label,m=e.transition,x=null==a?c.ticks?c.ticks.apply(c,r):c.domain():a;o||(o=c.tickFormat?c.tickFormat.apply(c,r):function(e){return e}),f!=t&&f!=n&&0!=f&&(x=x.filter(function(e,t,n){return 0!=e}));var v=Math.max(l,0)+u,g="top"===h||"left"===h?-1:1,_=this._d3_scaleRange(c),P=c.rangeBand?function(e){return c(e)+c.rangeBand()/2}:c,S=void 0,T=void 0,M=void 0,E=void 0,b=void 0,R=void 0,k=void 0,w=void 0,D=void 0;"bottom"===h||"top"===h?(S="translate({}, 0)",T=0,M=g*v,E=0,b=g*l,R=g<0?"0em":".71em",k="middle",w="M"+_[0]+", "+g*p+"V0H"+_[1]+"V"+g*p,D=i.createElement("text",{className:""+d+" label",textAnchor:"end",x:n,y:-6},y)):(S="translate(0, {})",T=g*v,M=0,E=g*l,b=0,R=".32em",k=g<0?"end":"start",w="M"+g*p+", "+_[0]+"H0V"+_[1]+"H"+g*p,D=i.createElement("text",{className:""+d+" label",textAnchor:"end",y:6,dy:".75em",transform:"rotate(-90)"},y));var N=x.map(function(e,t){var n=P(e),r=S.replace("{}",n);return i.createElement("g",{key:""+e+"."+t,className:"tick",transform:r},i.createElement(s,{transition:m,xScale:c,yScale:c},i.createElement("line",{x2:E,y2:b,stroke:"#aaa"}),i.createElement("text",{x:T,y:M,dy:R,textAnchor:k},o(e))))}),q=i.createElement("path",{className:"domain",d:w,fill:"none",stroke:"#aaa"});return i.createElement("g",{ref:"axis",className:d,transform:this._getTranslateString(),style:{shapeRendering:"crispEdges"}},N,q,D)},_d3_scaleExtent:function(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]},_d3_scaleRange:function(e){return e.rangeExtent?e.rangeExtent():this._d3_scaleExtent(e.range())}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=r(n(2));e.exports={propTypes:{data:i.PropTypes.oneOfType([i.PropTypes.object,i.PropTypes.array]).isRequired,height:i.PropTypes.number.isRequired,width:i.PropTypes.number.isRequired,margin:i.PropTypes.shape({top:i.PropTypes.number,bottom:i.PropTypes.number,left:i.PropTypes.number,right:i.PropTypes.number}),xScale:i.PropTypes.func,yScale:i.PropTypes.func,colorScale:i.PropTypes.func},getDefaultProps:function(){return{data:{label:"No data available",values:[{x:"No data available",y:1}]},margin:{top:0,bottom:0,left:0,right:0},xScale:null,yScale:null,colorScale:s.scale.category20()}}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=r(n(1));r(n(2));e.exports={propTypes:{tooltipHtml:s.PropTypes.func,tooltipMode:s.PropTypes.oneOf(["mouse","element","fixed"]),tooltipContained:s.PropTypes.bool,tooltipOffset:s.PropTypes.objectOf(s.PropTypes.number)},getInitialState:function(){return{tooltip:{hidden:!0}}},getDefaultProps:function(){return{tooltipMode:"mouse",tooltipOffset:{top:-35,left:0},tooltipHtml:null,tooltipContained:!1}},componentDidMount:function(){this._svg_node=this.getDOMNode().getElementsByTagName("svg")[0]},onMouseEnter:function(e,t){function n(e,t,n){return(1-e)*t+e*n}if(this.props.tooltipHtml){e.preventDefault();var r=this.props,s=r.margin,a=r.tooltipMode,o=r.tooltipOffset,l=r.tooltipContained,u=this._svg_node,p=void 0;if(u.createSVGPoint){var c=u.createSVGPoint();c.x=e.clientX,c.y=e.clientY,c=c.matrixTransform(u.getScreenCTM().inverse()),p=[c.x-s.left,c.y-s.top]}else{var h=u.getBoundingClientRect();p=[e.clientX-h.left-u.clientLeft-s.left,e.clientY-h.top-u.clientTop-s.top]}var d=this._tooltipHtml(t,p),f=i(d,3),y=f[0],m=f[1],x=f[2],v=u.getBoundingClientRect().top+s.top,g=u.getBoundingClientRect().left+s.left,_=0,P=0;"fixed"===a?(_=v+o.top,P=g+o.left):"element"===a?(_=v+x+o.top,P=g+m+o.left):(_=e.clientY+o.top,P=e.clientX+o.left);var S=50;if(l){var T=p[0]/u.getBoundingClientRect().width;S=n(T,0,100)}this.setState({tooltip:{top:_,left:P,hidden:!1,html:y,translate:S}})}},onMouseLeave:function(e){this.props.tooltipHtml&&(e.preventDefault(),this.setState({tooltip:{hidden:!0}}))}}},function(e,t){"use strict";e.exports={componentWillMount:function(){this._arrayify(this.props)},componentWillReceiveProps:function(e){this._arrayify(e)},_arrayify:function(e){null===e.data?this._data=[{label:"No data available",values:[{x:"No data available",y:1}]}]:Array.isArray(e.data)?this._data=e.data:this._data=[e.data]}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],i=e[Symbol.iterator]();!(n=i.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=r(n(1)),a=r(n(2));e.exports={propTypes:{barPadding:s.PropTypes.number},getDefaultProps:function(){return{barPadding:.5}},componentWillMount:function(){this._makeScales(this.props)},componentWillReceiveProps:function(e){this._makeScales(e)},_makeScales:function(e){var t=e.xScale,n=e.xIntercept,r=e.yScale,s=e.yIntercept;if(t){var a=[t,n],o=i(a,2);this._xScale=o[0],this._xIntercept=o[1]}else{var l=this._makeXScale(e),u=i(l,2);this._xScale=u[0],this._xIntercept=u[1]}if(r){var p=[r,s],c=i(p,2);this._yScale=c[0],this._yIntercept=c[1]}else{var h=this._makeYScale(e),d=i(h,2);this._yScale=d[0],this._yIntercept=d[1]}},_makeXScale:function(e){var t=e.x,n=e.values,r=this._data;return"number"==typeof t(n(r[0])[0])?this._makeLinearXScale(e):"function"==typeof t(n(r[0])[0]).getMonth?this._makeTimeXScale(e):this._makeOrdinalXScale(e)},_makeLinearXScale:function(e){var t=e.x,n=e.values,r=this._data,i=this._innerWidth,s=a.extent(Array.prototype.concat.apply([],r.map(function(e){return n(e).map(function(e){return t(e)})}))),o=a.scale.linear().domain(s).range([0,i]),l=a.max([0,o.domain()[0]]),u=o(l);return[o,u]},_makeOrdinalXScale:function(e){var t=e.x,n=e.values,r=e.barPadding,i=this._data,s=this._innerWidth,o=a.scale.ordinal().domain(n(i[0]).map(function(e){return t(e)})).rangeRoundBands([0,s],r);return[o,0]},_makeTimeXScale:function(e){var t=e.x,n=e.values,r=(e.barPadding,this._data),i=this._innerWidth,s=a.min(n(r[0]),t),o=a.max(n(r[0]),t),l=a.time.scale().domain([s,o]).range([0,i]);return[l,0]},_makeYScale:function(e){var t=e.y,n=e.values,r=this._data;return"number"==typeof t(n(r[0])[0])?this._makeLinearYScale(e):this._makeOrdinalYScale(e)},_makeLinearYScale:function(e){var t=e.y,n=e.y0,r=e.values,i=e.groupedBars,s=this._data,o=this._innerHeight,l=a.extent(Array.prototype.concat.apply([],s.map(function(e){return r(e).map(function(e){return i?t(e):n(e)+t(e)})})));l=[a.min([0,l[0]]),l[1]];var u=a.scale.linear().domain(l).range([o,0]),p=a.max([0,u.domain()[0]]),c=u(p);return[u,c]},_makeOrdinalYScale:function(){var e=(this._data,this._innerHeight),t=a.scale.ordinal().range([e,0]),n=t(0);return[t,n]}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1));r(n(2));e.exports=i.createClass({displayName:"Tooltip",propTypes:{top:i.PropTypes.number.isRequired,left:i.PropTypes.number.isRequired,html:i.PropTypes.node,translate:i.PropTypes.number},getDefaultProps:function(){return{top:150,left:100,html:"",translate:50}},render:function(){var e=this.props,t=e.top,n=e.left,r=e.hidden,s=e.html,a=e.translate,o={display:r?"none":"block",position:"fixed",top:t,left:n,transform:"translate(-"+a+"%, 0)",pointerEvents:"none"};return i.createElement("div",{className:"tooltip",style:o},s)}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1));e.exports={propTypes:{label:i.PropTypes.func,values:i.PropTypes.func,x:i.PropTypes.func,y:i.PropTypes.func,y0:i.PropTypes.func},getDefaultProps:function(){return{label:function(e){return e.label},values:function(e){return e.values},x:function(e){return e.x},y:function(e){return e.y},y0:function(e){return 0}}}}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)r!==t&&e.hasOwnProperty(r)&&(n[r]=e[r]);return n}var i=function(e){return e&&e.__esModule?e.default:e},s=i(n(2));e.exports={_transition:function(){var e=this;console.log("transitionMixin:_transition");for(var t in this.props.transition.attributes())!function(t){var n=e.props.transition.attributes()[t],r=void 0;if(n.tween)r=n.tween(e.props.e,e.props.arc);else{var i="function"==typeof n.start?n.start.call(e,e.props.data,e.props.xScale,e.props.yScale):n.start,a="function"==typeof n.end?n.end.call(e,e.props.data,e.props.xScale,e.props.yScale):n.end;r=s.interpolate(void 0!==i?i:e.state[t],a)}s.timer(function(n){var i=n/e.props.transition.duration(),s={};return s[t]=r(e.props.transition.ease()(i)),e.setState(s),i>1},e.props.transition.delay())}(t)},componentDidMount:function(){console.log("transitionMixin:componentDidMount"),this.props.transition&&this._transition()},componentWillReceiveProps:function(e){console.log("transitionMixin:componentWillReceiveProps");var t=r(e,"children"),n=r(this.props,"children");this.props.transition&&JSON.stringify(n)!==JSON.stringify(t)&&this._transition()}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=(r(n(2)),r(n(12)));e.exports=i.createClass({displayName:"Path",mixins:[s],propTypes:{className:i.PropTypes.string,stroke:i.PropTypes.string.isRequired,strokeLinecap:i.PropTypes.string,strokeWidth:i.PropTypes.string,strokeDasharray:i.PropTypes.string,fill:i.PropTypes.string,d:i.PropTypes.string.isRequired,data:i.PropTypes.array.isRequired},getInitialState:function(){return{transform:null}},getDefaultProps:function(){return{className:"path",fill:"none",strokeWidth:"2",strokeLinecap:"butt",strokeDasharray:"none"}},render:function(){var e=this.props,t=e.className,n=e.stroke,r=e.strokeWidth,s=e.strokeLinecap,a=e.strokeDasharray,o=e.fill,l=e.d,u=e.style,p=e.data,c=e.onMouseEnter,h=e.onMouseLeave;return i.createElement("path",{className:t,stroke:n,strokeWidth:r,strokeLinecap:s,strokeDasharray:a,fill:o,d:l,transform:this.state.transform,onMouseMove:function(e){c(e,p)},onMouseLeave:function(e){h(e)},style:u})}})},function(e,t,n){"use strict";var r=n(1),i={propTypes:{label:r.PropTypes.func,values:r.PropTypes.func,x:r.PropTypes.func,y:r.PropTypes.func,y0:r.PropTypes.func},getDefaultProps:function(){return{label:function(e){return e.label},values:function(e){return e.values},x:function(e){return e.x},y:function(e){return e.y},y0:function(e){return e.y0}}}};e.exports=i},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=r(n(2));e.exports={propTypes:{offset:i.PropTypes.string},getDefaultProps:function(){return{offset:"zero",order:"default"}},componentWillMount:function(){this._stackData(this.props)},componentWillReceiveProps:function(e){this._stackData(e)},_stackData:function(e){var t=e.offset,n=e.order,r=e.x,i=e.y,a=e.values,o=s.layout.stack().offset(t).order(n).x(r).y(i).values(a);this._data=o(this._data)}}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(1)),a=r(n(2)),o=r(n(3)),l=r(n(5)),u=r(n(13)),p=r(n(10)),c=r(n(6)),h=r(n(4)),d=r(n(8)),f=r(n(14)),y=r(n(15)),m=r(n(9)),x=r(n(7)),v=s.createClass({displayName:"DataSet",propTypes:{data:s.PropTypes.array.isRequired,area:s.PropTypes.func.isRequired,line:s.PropTypes.func.isRequired,colorScale:s.PropTypes.func.isRequired,stroke:s.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.data,n=e.area,r=e.line,i=e.colorScale,a=e.stroke,o=e.values,l=e.label,p=e.onMouseEnter,c=e.onMouseLeave,h=t.map(function(e,r){return s.createElement(u,{key:""+l(e)+"."+r,className:"area",stroke:"none",fill:i(l(e)),d:n(o(e)),onMouseEnter:p,onMouseLeave:c,data:t})});t.map(function(e){return s.createElement(u,{className:"line",d:r(o(e)),stroke:a(l(e))})});return s.createElement("g",null,h)}});e.exports=s.createClass({displayName:"AreaChart",mixins:[c,h,d,f,y,m,x],propTypes:{interpolate:s.PropTypes.string,stroke:s.PropTypes.func},getDefaultProps:function(){return{interpolate:"linear",stroke:a.scale.category20()}},_tooltipHtml:function(e,t){var n=this.props,r=n.x,i=n.y0,s=n.y,o=n.values,l=(n.label,this._xScale),u=this._yScale,p=l.invert(t[0]),c=a.bisector(function(e){return r(e)}).right,h=c(o(e[0]),l.invert(t[0]));h=h==o(e[0]).length?h-1:h;var d=h==o(e[0]).length?h-1:h,f=r(o(e[0])[d]),y=0==h?h:h-1,m=r(o(e[0])[y]);h=Math.abs(p-f)<Math.abs(p-m)?d:y;var x=u.invert(t[1]),v=a.bisector(function(e){return i(o(e)[h])+s(o(e)[h])}).left,g=v(e,x);g=g==e.length?g-1:g;var _=s(o(e[g])[h]),P=i(o(e[e.length-1])[h])+s(o(e[e.length-1])[h]),S=r(o(e[g])[h]),T=l(S),M=u(i(o(e[g])[h])+_);return[this.props.tooltipHtml(_,P,S),T,M]},render:function(){var e=this.props,t=e.height,n=e.width,r=e.margin,u=e.colorScale,c=e.interpolate,h=e.stroke,d=(e.offset,e.values),f=e.label,y=e.x,m=e.y,x=e.y0,g=e.xAxis,_=e.yAxis,P=this._data,S=this._innerWidth,T=this._innerHeight,M=this._xScale,E=this._yScale,b=(this._xIntercept,this._yIntercept,a.svg.line().x(function(e){return M(y(e))}).y(function(e){return E(x(e)+m(e))}).interpolate(c)),R=a.svg.area().x(function(e){return M(y(e))}).y0(function(e){return E(E.domain()[0]+x(e))}).y1(function(e){return E(x(e)+m(e))}).interpolate(c);return s.createElement("div",null,s.createElement(o,{height:t,width:n,margin:r},s.createElement(v,{data:P,line:b,area:R,colorScale:u,stroke:h,label:f,values:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),s.createElement(l,i({className:"x axis",orientation:"bottom",scale:M,height:T,width:S},g)),s.createElement(l,i({className:"y axis",orientation:"left",scale:E,height:T,width:S},_)),this.props.children),s.createElement(p,this.state.tooltip))}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=(r(n(2)),r(n(12)));e.exports=i.createClass({displayName:"Bar",mixins:[s],propTypes:{width:i.PropTypes.number.isRequired,height:i.PropTypes.number.isRequired,x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired,fill:i.PropTypes.string.isRequired,data:i.PropTypes.oneOfType([i.PropTypes.array,i.PropTypes.object]).isRequired,onMouseEnter:i.PropTypes.func,onMouseLeave:i.PropTypes.func},getInitialState:function(){return{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,fill:this.props.fill,opacity:1}},render:function(){var e=this.props,t=(e.x,e.y,e.width,e.height,e.fill,e.data),n=e.onMouseEnter,r=e.onMouseLeave;return i.createElement("rect",{className:"bar",x:this.state.x,y:this.state.y,width:this.state.width,height:this.state.height,fill:this.state.fill,opacity:this.state.opacity,onMouseMove:function(e){n(e,t)},onMouseLeave:function(e){r(e)}})}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=(r(n(2)),r(n(3)),r(n(5)),r(n(17))),a=(r(n(10)),r(n(6)),r(n(4))),o=r(n(8)),l=r(n(14)),u=r(n(15)),p=r(n(9)),c=(r(n(7)),i.createClass({displayName:"DataSet",propTypes:{data:i.PropTypes.array.isRequired,xScale:i.PropTypes.func.isRequired,yScale:i.PropTypes.func.isRequired,colorScale:i.PropTypes.func.isRequired,values:i.PropTypes.func.isRequired,label:i.PropTypes.func.isRequired,x:i.PropTypes.func.isRequired,y:i.PropTypes.func.isRequired,y0:i.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.data,n=e.xScale,r=e.yScale,a=e.colorScale,o=e.values,l=e.label,u=e.x,p=e.y,c=e.y0,h=e.onMouseEnter,d=e.onMouseLeave,f=e.groupedBars,y=e.transition,m=void 0;return m=f?t.map(function(e,c){return o(e).map(function(o,f){return i.createElement(s,{key:""+l(e)+"."+f,width:n.rangeBand()/t.length,height:r(r.domain()[0])-r(p(o)),x:n(u(o))+n.rangeBand()*c/t.length,y:r(p(o)),fill:a(l(e)),data:o,onMouseEnter:h,onMouseLeave:d,transition:y,xScale:n,yScale:r})})}):t.map(function(e){return o(e).map(function(t,o){return i.createElement(s,{key:""+l(e)+"."+o,width:n.rangeBand(),height:r(r.domain()[0])-r(p(t)),x:n(u(t)),y:r(c(t)+p(t)),fill:a(l(e)),data:t,onMouseEnter:h,onMouseLeave:d,transition:y,xScale:n,yScale:r})})}),i.createElement("g",null,m)}})),h=i.createClass({displayName:"BarChart",mixins:[a,o,l,u,p],getDefaultProps:function(){return{}},_tooltipHtml:function(e,t){for(var n=this.props.values,r=this._xScale,i=this._yScale,s=this.props.tooltipHtml(this.props.x(e),this.props.y0(e),this.props.y(e)),a=r.rangeBand()/2,o=a+r(this.props.x(e)),l=n(this._data[this._data.length-1]),u=null,p=0;p<l.length;p++)if(this.props.x(l[p])===this.props.x(e)){u=l[p];break}var c=i(this.props.y0(u)+this.props.y(u));return[s,o,c]},render:function(){var e=this.props,t=(e.height,e.width,e.margin,e.colorScale),n=e.values,r=e.label,s=e.y,a=e.y0,o=e.x,l=(e.xAxis,e.yAxis,e.groupedBars),u=e.transition,p=this._data,h=this._xScale,d=this._yScale;return i.createElement("g",null,i.createElement(c,{data:p,xScale:h,yScale:d,colorScale:t,values:n,label:r,y:s,y0:a,x:o,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,groupedBars:l,transition:u}))}});e.exports=h},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(1)),a=(r(n(2)),r(n(3))),o=r(n(5)),l=r(n(4)),u={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},p=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.exports=s.createClass({displayName:"Brush",mixins:[l],getInitialState:function(){return{resizers:p[0],xExtent:[0,0],yExtent:[0,0],xExtentDomain:void 0,yExtentDomain:void 0}},getDefaultProps:function(){return{xScale:null,yScale:null}},componentWillMount:function(){this._extent(this.props.extent),this.setState({resizers:p[!this.props.xScale<<1|!this.props.yScale]})},componentWillReceiveProps:function(e){e.xScale!==this.props.xScale&&(this._extent(e.extent,e.xScale),this.setState({resizers:p[!this.props.xScale<<1|!this.props.yScale]}))},render:function(){var e=this,t=this.props.xScale?this._d3_scaleRange(this.props.xScale):null,n=this.props.yScale?this._d3_scaleRange(this.props.yScale):null,r=s.createElement("rect",{className:"background",style:{visibility:"visible",cursor:"crosshair"},x:t?t[0]:"",width:t?t[1]-t[0]:"",y:n?n[0]:"",height:n?n[1]-n[0]:this._innerHeight,onMouseDown:this._onMouseDownBackground}),l=void 0;this.props.xScale&&(l=s.createElement("rect",{className:"extent",style:{cursor:"move"},x:this.state.xExtent[0],width:this.state.xExtent[1]-this.state.xExtent[0],height:this._innerHeight,onMouseDown:this._onMouseDownExtent}));var p=this.state.resizers.map(function(t){return s.createElement("g",{key:t,className:"resize "+t,style:{cursor:u[t]},transform:"translate("+e.state.xExtent[+/e$/.test(t)]+", "+e.state.yExtent[+/^s/.test(t)]+")",onMouseDown:function(n){e._onMouseDownResizer(n,t)}},s.createElement("rect",{x:/[ew]$/.test(t)?-3:null,y:/^[ns]/.test(t)?-3:null,width:"6",height:e._innerHeight,style:{visibility:"hidden",display:e._empty()?"none":null}}))});return s.createElement("div",null,s.createElement(a,{height:this.props.height,width:this.props.width,margin:this.props.margin},s.createElement("g",{style:{pointerEvents:"all"},onMouseUp:this._onMouseUp,onMouseMove:this._onMouseMove},r,l,p),s.createElement(o,i({className:"x axis",orientation:"bottom",scale:this.props.xScale,height:this._innerHeight,width:this._innerWidth},this.props.xAxis)),this.props.children))},_getMousePosition:function(e){var t=this.getDOMNode().getElementsByTagName("svg")[0],n=void 0;if(t.createSVGPoint){var r=t.createSVGPoint();r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),n=[r.x-this.props.margin.left,r.y-this.props.margin.top]}else{var i=t.getBoundingClientRect();n=[e.clientX-i.left-t.clientLeft-this.props.margin.left,e.clientY-i.top-t.clientTop-this.props.margin.left]}return n},_onMouseDownBackground:function(e){e.preventDefault();var t=this._d3_scaleRange(this.props.xScale),n=this._getMousePosition(e),r=this.state.xExtent[1]-this.state.xExtent[0];t[1]-=r;var i=Math.max(t[0],Math.min(t[1],n[0]));this.setState({xExtent:[i,i+r]})},_onMouseDownExtent:function(e){e.preventDefault(),this._mouseMode="drag";var t=this._getMousePosition(e),n=t[0]-this.state.xExtent[0];this._startPosition=n},_onMouseDownResizer:function(e,t){e.preventDefault(),this._mouseMode="resize",this._resizeDir=t},_onDrag:function(e){var t=this._d3_scaleRange(this.props.xScale),n=this._getMousePosition(e),r=this.state.xExtent[1]-this.state.xExtent[0];t[1]-=r;var i=Math.max(t[0],Math.min(t[1],n[0]-this._startPosition));this.setState({xExtent:[i,i+r],xExtentDomain:null})},_onResize:function(e){var t=this._d3_scaleRange(this.props.xScale),n=this._getMousePosition(e),r=Math.max(t[0],Math.min(t[1],n[0]));"w"==this._resizeDir?r>this.state.xExtent[1]?(this.setState({xExtent:[this.state.xExtent[1],r],xExtentDomain:null}),this._resizeDir="e"):this.setState({xExtent:[r,this.state.xExtent[1]],xExtentDomain:null}):"e"==this._resizeDir&&(r<this.state.xExtent[0]?(this.setState({xExtent:[r,this.state.xExtent[0]],xExtentDomain:null}),this._resizeDir="w"):this.setState({xExtent:[this.state.xExtent[0],r],xExtentDomain:null}))},_onMouseMove:function(e){e.preventDefault(),"resize"==this._mouseMode?this._onResize(e):"drag"==this._mouseMode&&this._onDrag(e)},_onMouseUp:function(e){e.preventDefault(),this._mouseMode=null,this.props.onChange(this._extent())},_extent:function(e,t){var n,r,i,s,a,o=t||this.props.xScale,l=this.props.yScale,u=this.state,p=u.xExtent,c=u.yExtent,h=u.xExtentDomain,d=u.yExtentDomain;return arguments.length?(o&&(n=e[0],r=e[1],l&&(n=n[0],r=r[0]),h=[n,r],o.invert&&(n=o(n),r=o(r)),r<n&&(a=n,n=r,r=a),n==p[0]&&r==p[1]||(p=[n,r])),l&&(i=e[0],s=e[1],o&&(i=i[1],s=s[1]),d=[i,s],l.invert&&(i=l(i),s=l(s)),s<i&&(a=i,i=s,s=a),i==c[0]&&s==c[1]||(c=[i,s])),void this.setState({xExtent:p,yExtent:c,xExtentDomain:h,yExtentDomain:d})):(o&&(h?(n=h[0],r=h[1]):(n=p[0],r=p[1],o.invert&&(n=o.invert(n),r=o.invert(r)),r<n&&(a=n,n=r,r=a))),l&&(d?(i=d[0],s=d[1]):(i=c[0],s=c[1],l.invert&&(i=l.invert(i),s=l.invert(s)),s<i&&(a=i,i=s,s=a))),o&&l?[[n,i],[r,s]]:o?[n,r]:l&&[i,s])},_empty:function(){return!!this.props.xScale&&this.state.xExtent[0]==this.state.xExtent[1]||!!this.props.yScale&&this.state.yExtent[0]==this.state.yExtent[1]},_d3_scaleExtent:function(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]},_d3_scaleRange:function(e){return e.rangeExtent?e.rangeExtent():this._d3_scaleExtent(e.range())}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=r(n(1)),a=r(n(2)),o=(r(n(3)),r(n(5)),r(n(13))),l=(r(n(10)),r(n(6)),r(n(4))),u=r(n(8)),p=r(n(11)),c=r(n(9)),h=(r(n(7)),s.createClass({displayName:"DataSet",propTypes:{data:s.PropTypes.array.isRequired,line:s.PropTypes.func.isRequired,colorScale:s.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.width,n=e.height,r=e.data,i=e.xScale,a=e.yScale,l=e.line,u=e.strokeWidth,p=e.strokeLinecap,c=e.strokeDasharray,h=e.colorScale,d=e.values,f=e.label,y=e.onMouseEnter,m=e.onMouseLeave,x=e.transition,v=t+"x"+n,g=r.map(function(e,t){return s.createElement(o,{key:""+f(e)+"."+t,className:"line",d:l(d(e)),stroke:h(f(e)),strokeWidth:"function"==typeof u?u(f(e)):u,strokeLinecap:"function"==typeof p?p(f(e)):p,strokeDasharray:"function"==typeof c?c(f(e)):c,data:d(e),onMouseEnter:y,onMouseLeave:m,style:{clipPath:"url(#lineClip_"+v+")"},transition:x,xScale:i,yScale:a})});return s.createElement("g",{clipPath:"url(#lineClip"+this._reactInternalInstance._rootNodeID+")"},s.createElement("defs",null,s.createElement("clipPath",{id:"lineClip"+this._reactInternalInstance._rootNodeID},s.createElement("rect",{width:t,height:n}))),g,s.createElement("rect",{width:t,height:n,fill:"none",stroke:"none",style:{pointerEvents:"all"},onMouseMove:function(e){y(e,r)},onMouseLeave:function(e){m(e)}}))}})),d=s.createClass({displayName:"LineChart",mixins:[l,u,p,c],propTypes:{interpolate:s.PropTypes.string,defined:s.PropTypes.func},getDefaultProps:function(){return{interpolate:"linear",defined:function(){return!0},shape:"circle",shapeColor:null}},_tooltipHtml:function(e,t){var n=this.props,r=n.x,i=(n.y0,n.y),s=n.values,o=n.label,l=this._xScale,u=this._yScale,p=l.invert(t[0]),c=u.invert(t[1]),h=a.bisector(function(e){return r(e)}).left,d=e.map(function(e){var t=h(s(e),p),n=t===s(e).length?t-1:t,i=r(s(e)[n]),a=0===t?t:t-1,l=r(s(e)[a]),u=void 0;return u=Math.abs(p-i)<Math.abs(p-l)?n:a,{label:o(e),value:s(e)[u]}});d.sort(function(e,t){return i(e.value)-i(t.value)});var f=a.bisector(function(e){return i(e.value)}).left,y=f(d,c),m=y===d.length?y-1:y,x=0===y?y:y-1,v=i(d[m].value),g=i(d[x].value),_=void 0;_=Math.abs(c-v)<Math.abs(c-g)?m:x,this._tooltipData=d[_];var P=this.props.tooltipHtml(d[_].label,d[_].value),S=l(d[_].value.x),T=u(d[_].value.y);return[P,S,T]},render:function(){var e=this.props,t=(e.height,e.width,e.margin,e.colorScale),n=e.interpolate,r=e.defined,o=e.stroke,l=e.values,u=e.label,p=e.x,c=e.y,d=(e.xAxis,e.yAxis,e.shape,e.shapeColor,e.transition),f=e.xScale,y=e.yScale,m=(e.xIntercept,e.yIntercept,this._data),x=this._innerHeight,v=this._innerWidth,g=a.svg.line().x(function(e){return f(p(e))}).y(function(e){return y(c(e))}).interpolate(n).defined(r);return s.createElement("g",null,s.createElement(h,i({height:x,width:v,data:m,line:g,colorScale:t,values:l,label:u,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,xScale:f,yScale:y,transition:d},o)),this.props.children)}});e.exports=d},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=r(n(2)),a=r(n(3)),o=r(n(10)),l=r(n(6)),u=r(n(4)),p=r(n(11)),c=r(n(7)),h=r(n(12)),d=i.createClass({displayName:"Wedge",mixins:[h],propTypes:{d:i.PropTypes.string.isRequired,fill:i.PropTypes.string.isRequired},getInitialState:function(){return{d:this.props.d,fill:this.props.fill}},render:function(){var e=this.props,t=(e.fill,e.d,e.data),n=e.onMouseEnter,r=e.onMouseLeave;return i.createElement("path",{fill:this.state.fill,d:this.state.d,onMouseMove:function(e){n(e,t)},onMouseLeave:function(e){r(e)}})}}),f=i.createClass({displayName:"DataSet",propTypes:{pie:i.PropTypes.array.isRequired,arc:i.PropTypes.func.isRequired,outerArc:i.PropTypes.func.isRequired,colorScale:i.PropTypes.func.isRequired,radius:i.PropTypes.number.isRequired,strokeWidth:i.PropTypes.number,stroke:i.PropTypes.string,fill:i.PropTypes.string,opacity:i.PropTypes.number,x:i.PropTypes.func.isRequired},getDefaultProps:function(){return{strokeWidth:2,stroke:"#000",fill:"none",opacity:.3}},render:function(){var e=this.props,t=e.pie,n=e.arc,r=e.outerArc,s=e.colorScale,a=e.radius,o=e.strokeWidth,l=e.stroke,u=e.fill,p=e.opacity,c=e.x,h=e.y,f=e.onMouseEnter,y=e.onMouseLeave,m=e.transition,x=t.map(function(e,t){function x(e){return e.startAngle+(e.endAngle-e.startAngle)/2}var v=n(e),g=r.centroid(e);g[0]=a*(x(e)<Math.PI?1:-1);var _=x(e)<Math.PI?"start":"end",P=r.centroid(e);return P[0]=.95*a*(x(e)<Math.PI?1:-1),i.createElement("g",{key:""+c(e.data)+"."+h(e.data)+"."+t,className:"arc"},i.createElement(d,{data:e.data,fill:s(c(e.data)),d:v,onMouseEnter:f,onMouseLeave:y,transition:m,arc:n,e:e}),i.createElement("polyline",{opacity:p,strokeWidth:o,stroke:l,fill:u,points:[n.centroid(e),r.centroid(e),P]}),i.createElement("text",{dy:".35em",x:g[0],y:g[1],textAnchor:_},c(e.data)))});return i.createElement("g",null,x)}});e.exports=i.createClass({displayName:"PieChart",mixins:[l,u,p,c],propTypes:{innerRadius:i.PropTypes.number,outerRadius:i.PropTypes.number,labelRadius:i.PropTypes.number,padRadius:i.PropTypes.string,cornerRadius:i.PropTypes.number,sort:i.PropTypes.any},getDefaultProps:function(){return{innerRadius:null,outerRadius:null,labelRadius:null,padRadius:"auto",cornerRadius:0,sort:void 0}},_tooltipHtml:function(e,t){var n=this.props.tooltipHtml(this.props.x(e),this.props.y(e));return[n,0,0]},render:function(){var e=this.props,t=e.data,n=e.width,r=e.height,l=e.margin,u=e.colorScale,p=e.innerRadius,c=e.outerRadius,h=e.labelRadius,d=e.padRadius,y=e.cornerRadius,m=e.sort,x=e.x,v=e.y,g=e.values,_=e.transition,P=this._innerWidth,S=this._innerHeight,T=s.layout.pie().value(function(e){
return v(e)});"undefined"!=typeof m&&(T=T.sort(m));var M=Math.min(P,S)/2;p||(p=.8*M),c||(c=.4*M),h||(h=.9*M);var E=s.svg.arc().innerRadius(p).outerRadius(c).padRadius(d).cornerRadius(y),b=s.svg.arc().innerRadius(h).outerRadius(h),R=T(g(t)),k="translate("+P/2+", "+S/2+")";return i.createElement("div",null,i.createElement(a,{height:r,width:n,margin:l},i.createElement("g",{transform:k},i.createElement(f,{width:P,height:S,colorScale:u,pie:R,arc:E,outerArc:b,radius:M,x:x,y:v,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,transition:_})),this.props.children),i.createElement(o,this.state.tooltip))}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=r(n(2)),a=(r(n(3)),r(n(5)),r(n(10)),r(n(6)),r(n(4)),r(n(8)),r(n(11)),r(n(9)),r(n(7))),o=i.createClass({displayName:"DataSet",propTypes:{data:i.PropTypes.array.isRequired,symbol:i.PropTypes.func.isRequired,xScale:i.PropTypes.func.isRequired,yScale:i.PropTypes.func.isRequired,colorScale:i.PropTypes.func.isRequired,onMouseEnter:i.PropTypes.func,onMouseLeave:i.PropTypes.func},render:function(){var e=this.props,t=e.data,n=e.symbol,r=e.xScale,s=e.yScale,a=e.colorScale,o=e.label,l=e.values,u=e.x,p=e.y,c=e.onMouseEnter,h=e.onMouseLeave,d=t.map(function(e){return l(e).map(function(t,l){var d="translate("+r(u(t))+", "+s(p(t))+")";return i.createElement("path",{key:""+o(e)+"."+l,className:"dot",d:n(),transform:d,fill:a(o(e)),onMouseOver:function(e){c(e,t)},onMouseLeave:function(e){h(e)}})})});return i.createElement("g",null,d)}});e.exports=i.createClass({displayName:"ScatterPlot",mixins:[a],propTypes:{rScale:i.PropTypes.func,shape:i.PropTypes.string},getDefaultProps:function(){return{rScale:null,shape:"circle"}},_tooltipHtml:function(e,t){var n=this._xScale,r=this._yScale,i=this.props.tooltipHtml(this.props.x(e),this.props.y(e)),s=n(this.props.x(e)),a=r(this.props.y(e));return[i,s,a]},render:function(){var e=this.props,t=(e.height,e.width,e.margin,e.colorScale),n=e.rScale,r=e.shape,a=e.label,l=e.values,u=e.x,p=e.y,c=(e.xAxis,e.yAxis,e.data),h=e.xScale,d=e.yScale,f=(e.xIntercept,e.yIntercept,s.svg.symbol().type(r));return n&&(f=f.size(n)),i.createElement("g",null,i.createElement(o,{data:c,xScale:h,yScale:d,colorScale:t,symbol:f,label:a,values:l,x:u,y:p,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),this.props.children)}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=r(n(1)),s=(r(n(2)),r(n(12)));e.exports=i.createClass({displayName:"TransformContainer",mixins:[s],getInitialState:function(){return{transform:null}},render:function(){return i.createElement("g",{transform:this.state.transform},this.props.children)}})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e.default:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=r(n(2)),o=function(){var e=function(){s(this,e),this._attributes={},this._styles={},this._delay=0,this._duration=250,this._ease=a.ease("linear")};return i(e,{delay:{value:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){return e?(this._delay=e,this):this._delay})},duration:{value:function(e){var t=function(t){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){return e?(this._duration=e,this):this._duration})},ease:{value:function(e,t){return e?("function"==typeof e?this._ease=e:this._ease=a.ease(e,t),this):this._ease}},attr:{value:function(e,t,n){return this._attributes[e]={end:t,start:n},this}},attrTween:{value:function(e,t){return this._attributes[e]={tween:t},this}},style:{value:function(e,t){return this._styles[e]=t,this}},attributes:{value:function(){return this._attributes}}}),e}();e.exports=o}])});
//# sourceMappingURL=react-d3-components.js.map